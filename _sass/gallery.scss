/* ========== GALLERY ========== */

/* Fallback globale: griglia base anche senza wrapper .gallery-inline/.gallery-page */
.gallery-grid {
  display: grid;
  gap: .75rem;
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

.gallery-grid a {
  display: block;
  text-decoration: none;
  outline: none;
}

.gallery-grid img {
  display: block;
  width: 100%;
  height: auto;
  border-radius: .5rem;
  box-shadow: 0 2px 6px rgba(0,0,0,.08);
  transition: transform .2s ease, box-shadow .2s ease;
}
.gallery-grid a:hover img,
.gallery-grid a:focus img {
  transform: scale(1.02);
  box-shadow: 0 4px 16px rgba(0,0,0,.14);
}

/* Responsive */
@media (max-width: 960px)  { .gallery-grid { grid-template-columns: repeat(2, minmax(0,1fr)); } }
@media (max-width: 520px)  { .gallery-grid { grid-template-columns: 1fr; } }

/* Inline grid dentro i post */
.gallery-inline {
  margin: 2rem 0;

  .gallery-grid {
    display: grid;
    gap: .75rem;
    grid-template-columns: repeat(3, minmax(0, 1fr));

    @media (max-width: 960px) { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    @media (max-width: 520px) { grid-template-columns: 1fr; }

    a {
      display: block;
      text-decoration: none;
      outline: none;
    }

    img {
      display: block;
      width: 100%;
      height: auto;
      border-radius: .5rem;
      box-shadow: 0 2px 6px rgba(0,0,0,.08);
      transition: transform .2s ease, box-shadow .2s ease;
    }

    a:hover img,
    a:focus img {
      transform: scale(1.02);
      box-shadow: 0 4px 16px rgba(0,0,0,.14);
    }
  }
}

/* Grid per le pagine dedicate alle gallerie */
.gallery-page {
  margin: 2rem 0;

  .gallery-grid {
    display: grid;
    gap: 1rem;
    grid-template-columns: repeat(4, minmax(0, 1fr));

    @media (max-width: 1200px) { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    @media (max-width: 960px)  { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    @media (max-width: 520px)  { grid-template-columns: 1fr; }
  }
}

/* ========== LIGHTBOX ========== */
/* HTML atteso:
<div id="lightbox" class="lightbox" aria-hidden="true" role="dialog">
  <button class="lightbox__close" aria-label="Chiudi">×</button>
  <img class="lightbox__img" alt="">
  <div class="lightbox__controls">
    <button class="lightbox__arrow lightbox__arrow--prev" aria-label="Immagine precedente">‹</button>
    <button class="lightbox__arrow lightbox__arrow--next" aria-label="Immagine successiva">›</button>
  </div>
</div>
*/

.lightbox {
  display: none;                /* nascosta di default */
  position: fixed;
  inset: 0;                     /* top/left/right/bottom: 0 */
  z-index: 10000;
  background: rgba(0,0,0,.88);
  align-items: center;
  justify-content: center;
  padding: 2rem;
}

/* mostralo quando è aperta */
.lightbox.is-open { display: flex; }

/* immagine */
.lightbox__img {
  max-width: min(92vw, 1400px);
  max-height: 86vh;
  border-radius: 8px;
  box-shadow: 0 0 20px rgba(0,0,0,.55);
}

/* controlli: nascosti se overlay chiuso */
.lightbox__close,
.lightbox__arrow {
  display: none;
  position: absolute;
  color: #fff;
  background: transparent;
  border: 0;
  font-size: 2.4rem;
  line-height: 1;
  cursor: pointer;
  user-select: none;
  transition: opacity .2s ease;
}

.lightbox.is-open .lightbox__close,
.lightbox.is-open .lightbox__arrow { display: block; }

.lightbox__close { top: 1rem; right: 1rem; font-size: 2.6rem; }
.lightbox__arrow--prev { left: 1rem; top: 50%; transform: translateY(-50%); }
.lightbox__arrow--next { right: 1rem; top: 50%; transform: translateY(-50%); }

.lightbox__arrow:hover,
.lightbox__close:hover { opacity: .75; }

/* blocca lo scroll del body quando la lightbox è aperta */
.no-scroll { overflow: hidden; }

/* accessibilità focus */
.lightbox__close:focus,
.lightbox__arrow:focus {
  outline: 2px solid rgba(255,255,255,.9);
  outline-offset: 2px;
}
